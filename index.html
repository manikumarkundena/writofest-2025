<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WritoFest 2K25 | ScriptInk</title>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  
  <div class="mouse-glow"></div>

  <script>
    for(let i=0;i<60;i++){
      const sp=document.createElement('div');
      sp.className='sparkle';
      sp.style.left=Math.random()*100+'vw';
      sp.style.animationDelay=(Math.random()*8)+'s';
      sp.style.background=Math.random()>0.5?'radial-gradient(circle, gold, transparent)':'radial-gradient(circle, silver, transparent)';
      document.body.appendChild(sp);
    }
  </script>

  <header data-aos="fade-down">
    <h1>ScriptInk Presents</h1>
    <img src="https://image2url.com/images/1761933190588-26af44a4-b352-495e-bde1-dd21d9852aa6.png" alt="ScriptInk Logo">
  </header>

  <div class="event-title" data-aos="zoom-in">✨ WritoFest 2K25 ✨</div>
  <div class="subtitle" data-aos="fade-up">Where Words Create Magic ✍</div>

  <div class="highlight-card" data-aos="fade-up">
    <p>Words. Emotions. Expression. The stage is set for <strong>WritoFest 2K25</strong> — a celebration of storytelling, poetry, and creativity! 🌟  
       Every word paints a picture, every emotion tells a story. Let your imagination take center stage and watch magic unfold as words meet worlds. ✨</p>
  </div>

  <div class="highlight-card" data-aos="zoom-in">
    <h3>🏆 Prizes Worth ₹10,000!</h3>
    <p>🎖 Certificates, 📜 Attendance & 🎁 Recognition for All!</p>
    <p>📚 Categories: Story • Poetry • Essay</p>
    <p>🗣 Languages: English • Hindi • Kannada</p>
  </div>

  <div class="highlight-card" data-aos="fade-up">
    <p>📅 <strong>Date:</strong> November 15, 2025<br>
     📍 <strong>Venue:</strong> Media Centre, SIT</p>
  </div>

  <div class="register-now" data-aos="fade-up"> Register Now to Participate!</div>

  <form id="regForm" data-aos="zoom-in">
    <input type="text" name="name" placeholder="Full Name" required>
    <input type="email" name="email" placeholder="Email" required>
    <input type="tel" "phone" placeholder="Phone Number" pattern="[0-9]{10}" required>
    <input type="text" name="usn" placeholder="USN / College ID" required>
    
    <select name="branch" required>
      <option value="">Select Branch</option>
      <option>CSE</option>
      <option>CSE (AIML)</option>
      <option>AI & DS</option>
      <option>ECE</option>
      <option>EEE</option>
      <option>ETE</option>
      <option>ME</option>
      <option>CV</option>
      <option>BT</option>
      <option>Chemical</option>
      <option>Other</option>
    </select>
    
    <input type="text" id="otherBranch" name="otherBranch" placeholder="Please specify your branch" style="display: none;">
    
    <select name="year" required>
      <option value="">Select Year</option>
      <option>1st Year</option>
      <option>2nd Year</option>
      <option>3rd Year</option>
      <option>4th Year</option>
    </select>
    <select name="event" required>
      <option value="">Select Category</option>
      <option>Story</option>
      <option>Poetry</option>
      <option>Essay</option>
    </select>
    
    <textarea name="message" placeholder="Any message for the ScriptInk team? (Optional)"></textarea>
    
    <button type="submit">Register & Proceed</button>
  </form>

  <div class="about" data-aos="fade-up">
    <h2>About ScriptInk 💫</h2>
    <p><strong>ScriptInk</strong> is the official creative and technical club of Siddaganga Institute of Technology — where innovation meets imagination!  
       From storytelling and poetry to web, app, and graphic design — we’re a collective of creators, developers, and dreamers.  
       Our flagship events <strong>WritoFest</strong> and <strong>Rage</strong> bring together writers, designers, and coders through workshops and challenges.  
       Join us, and let your ideas ink the future! 🚀</p>
  </div>

  <footer>
  <p class="follow-text">Follow us for updates!</p>
  
  <div class="social-links">
    <a href="https://scriptink.in" target="_blank" aria-label="Our Website">
      <i class="fas fa-globe"></i>
    </a>
    <a href="https://play.google.com/store/apps/details?id=com.scriptink.official" target="_blank" aria-label="Our Mobile App">
      <i class="fab fa-google-play"></i>
    </a>
    <a href="https://t.me/scriptink" target="_blank" aria-label="Telegram">
      <i class="fab fa-telegram"></i>
    </a>
    <a href="https://instagram.com/scriptink_official" target="_blank" aria-label="Instagram">
      <i class="fab fa-instagram"></i>
    </a>
    <a href="https://linkedin.com/company/scriptink-official" target="_blank" aria-label="LinkedIn">
      <i class="fab fa-linkedin"></i>
    </a>
    <a href="https://www.youtube.com/@ScriptInkOfficial" target="_blank" aria-label="YouTube">
      <i class="fab fa-youtube"></i>
    </a>
    <a href="https://g.page/Scriptink" target="_blank" aria-label="Find us on Maps">
      <i class="fas fa-map-marker-alt"></i>
    </a>
  </div>
  
  <small>Made with ❤️ by ScriptInk Team</small>
  
  <p class="copyright">&copy; 2025 ScriptInk. All Rights Reserved.</p>
</footer>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<script>
AOS.init();

document.addEventListener("DOMContentLoaded", function () {
  const form = document.getElementById("regForm");
  
  // Logic for "Other" branch field
  const branchSelect = document.querySelector('select[name="branch"]');
  const otherBranchInput = document.getElementById('otherBranch');

  branchSelect.addEventListener('change', function() {
    if (this.value === 'Other') {
      otherBranchInput.style.display = 'block';
      otherBranchInput.setAttribute('required', 'true');
    } else {
      otherBranchInput.style.display = 'none';
      otherBranchInput.removeAttribute('required');
      otherBranchInput.value = ''; // Clear value if hidden
    }
  });

  // Main form submission logic
  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());

    // Consolidate "Other" branch data before sending
    if (data.branch === 'Other' && data.otherBranch) {
        data.branch = data.otherBranch; // Overwrite 'branch' with the custom value
    }
    delete data.otherBranch; // Remove the extra field

    const submitBtn = form.querySelector("button[type='submit']");
    submitBtn.disabled = true;
    submitBtn.textContent = "Submitting...";

    try {
      // === THIS IS THE CORRECT LINE ===
      const response = await fetch("https://writofest-2k25.onrender.com/register", {
        
        method: "POST",
        headers: {
          'Content-Type': 'application/json' 
        },
        body: JSON.stringify(data), 
      });

      if (response.ok) {
        window.location.href = "thankyou.html";
      } else {
        const errorResult = await response.json();
        alert(`❌ Submission failed: ${errorResult.message || 'Try again later.'}`);
      }
    } catch (error) {
      alert("⚠️ Network error. Is your backend server running?");
      console.error("Fetch error:", error);
    }

    submitBtn.disabled = false;
    submitBtn.textContent = "Register & Proceed";
  });
  
  // ===================================
  // === 3. NEW JAVASCRIPT FOR MOUSE GLOW ===
  // ===================================
  const glow = document.querySelector('.mouse-glow');

  document.addEventListener('mousemove', (e) => {
    // We use e.pageX and e.pageY to make sure it works
    // even if the page is scrolled
    glow.style.left = e.pageX + 'px';
    glow.style.top = e.pageY + 'px';
  });
  // ===================================

});
</script>
</body>
</html>